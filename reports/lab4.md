# 实验四报告

## 编程作业

1. 添加之前的系统调用
  
2. 修改`spawn`适配文件系统
  
3. 针对文件系统进行实现相应的系统调用
  

## 问答作业

1. 在我们的easy-fs中，root inode起着什么作用？如果root inode中的内容损坏了，会发生什么？
  答：`ROOT_INODE`是根节点，方便对其他节点的索引，如果`ROOT_INODE`的内容损坏，无法正常访问其他文件。
  
2. 举出使用 pipe 的一个实际应用的例子。
  答：`Pipe`用于多线程通信。
  
3. 如果需要在多个进程间互相通信，则需要为每一对进程建立一个管道，非常繁琐，请设计一个更易用的多进程通信机制。
  答：可否创建一个全局的`FD`存于内核中，在需要时由进程进行申请，对`FD`进行特征编号，标识由哪个进程创建，方便进行筛选。同样在写入数据时统一写入，内核对每一个进程添加一个`offset`，表示当前进程的读取位置，防止一个进程读取后其他进程无法读取，也可以添加相应的标志位，选择性将所有内容进行非重复性读取。